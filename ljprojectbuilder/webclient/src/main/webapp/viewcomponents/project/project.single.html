<div id="headerBox" ng-include="'shared/menus/menu.project.html'"></div>

<div id="subheaderBox">
	<div class="contain">
		<span class="navBar">
			<ul>
			  <li class="step1 act"><a href="#/viewcomponents/project-maintain/update/{{ctrl.projectid}}">Details</a></li>
			  <li class="step2"><a href="" ng-click="ctrl.doMaintainDomain();">Domainobjekte</a></li>
			  <li class="step3"><a href="" ng-click="ctrl.doMaintainGenerate();">Generierung</a></li>
			  <li class="clearer"></li>
			</ul>
		</span>
		<button class="icon back hint" ng-click="ctrl.doMaintain(); "><span>{{'button.back' | translate}}</span></button>
		<button class="icon save right hint" ng-click="ctrl.doMaintainDomain(); sent=true;" title="{{'button.savenext' | translate}}"><span>{{'button.save' | translate}} | {{'button.next' | translate}}</span></button>
		<div class="clearer"></div>
	</div>
</div>

<div id="bodyBox">
	<div class="contain">
		<form name="ctrl.form" ng-init="sent=true;"> 
			<fieldset class="odd">
				<table>
					<thead>
						<tr>
							<td><h3>{{'project.template' | translate}}</h3></td>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>
								<label for="projecttemplates">{{'project.templateselect' | translate}}</label>
								<select name="projecttemplates" id="projecttemplates" ng-model="ctrl.project.template" ng-options="template as template.templateLocation for template in ctrl.templateAll track by template.id" required></select>
							</td>
							<td>
								<label for="description">{{'project.description' | translate}}</label>
								<input name="description" id="description" type="text" ng-model="ctrl.project.description" />
							</td>
						</tr>
						<tr>
							<td>
								<table>
									<tr>
										<td><span><strong>{{'project.templatetitle' | translate}}:</strong></span></td>
										<td><span>{{ctrl.project.template.templateTitle}}</span></td>
									</tr>
									<tr>
										<td><span><strong>{{'project.templatelocation' | translate}}</strong></span></td>
										<td><span>{{ctrl.project.template.templateLocation}}</span></td>
									</tr>
									<tr>	
										<td><span><strong>{{'project.templatepackageprefix' | translate}}</strong></span></td>
										<td><span>{{ctrl.project.template.templatePackagePrefix}}</span></td>
									</tr>
								</table>
							</td>
							<td>&nbsp;</td>
						<tr>
					</tbody>
				</table>
			</fieldset>
			<fieldset class="even">
				<table>
					<thead>
						<tr>
							<td><h3>{{'project.target' | translate}}</h3></td>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>
								<label for="targetpath">{{'project.targetpath' | translate}}</label>
								<input type="text" ng-pattern="/^[:\\/a-zA-Z0-9]*$/" name="targetpath" id="targetpath" type="text" ng-model="ctrl.project.targetPath" required />
								<span ng-show="projectForm.targetpath.$error.required">{{'error.required' | translate}}</span>
								<span ng-show="projectForm.targetpath.$error.pattern">{{'error.pattern' | translate}}</span>
							</td>
							<td>
								<label for="title">{{'project.title' | translate}}</label>
								<input name="title" id="title" type="text" ng-model="ctrl.project.title" required  />
								<span ng-show="projectForm.title.$error.required">{{'error.required' | translate}}</span>
							</td>
							<td>
								<label for="packageprefix">{{'project.packageprefix' | translate}}</label>
								<input name="packageprefix" id="packageprefix" type="text" ng-model="ctrl.project.packagePrefix" required />
								<span ng-show="projectForm.packageprefix.$error.required">{{'error.required' | translate}}</span>
							</td>
						</tr>
					</tbody>
				</table>
			</fieldset>	
		</form>
	</div>
</div>  

<div id="footerBox">
	<p>&copy; LireJarp</p>
</div>

<div id="dialogBox">
	<div ng-include="'shared/dialogs/dialog.success.html'"></div>
	<div ng-include="'shared/dialogs/dialog.error.html'"></div>
</div>